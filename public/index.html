<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contêiner Music Box</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>
<body>

  <div class="container">
     <header>
      <img src="/images/logo.png" alt="Contêiner Music Box" id="logo">
      <h1>CONTEINER MUSIC BOX</h1>
      <p class="welcome-message">Bem-vindo! Escolha seu pacote e selecione suas músicas.</p>
    </header>
    
    <div id="package-selection">
        <div class="package-option">
            <label>
              <input type="radio" name="package" value="3" data-price="2.00" data-limit="3" checked>
              <span>Pacote 3 Músicas<br><small>(R$ 2,00)</small></span>
            </label>
        </div>
        <div class="package-option">
            <label>
              <input type="radio" name="package" value="5" data-price="3.00" data-limit="5">
              <span>Pacote 5 Músicas<br><small>(R$ 3,00)</small></span>
            </label>
        </div>
    </div>

    <div id="now-playing-area" style="display: none;">
      <span class="label">Tocando Agora:</span>
      <span id="nowPlayingTitle">...</span>
    </div>

    <main>
      <div id="search-area">
        <input type="text" id="searchInput" placeholder="Digite o nome do artista ou música...">
        <button id="searchBtn">Buscar</button>
      </div>

      <div id="results-wrapper"><div id="results"></div></div>

      <div id="selection-area">
        <h2>Sua seleção (<span id="count">0</span>/<span id="limit">3</span>)</h2>
        <ul id="selected"></ul>
      </div>

      <div id="action-buttons">
        <button id="pagarBtn" class="btn-primary" disabled>Pagar R$ 2,00 (PIX)</button>
      </div>
      
      <div id="pixArea" style="display:none;">
        <h2 id="pixTitle">Faça o PIX</h2>
        <img id="qrCode" alt="QR Code PIX" style="display: block;">
        <div class="copia-cola-wrapper" style="display: block;">
            <p><b>Copia e Cola:</b></p>
            <textarea id="copiaCola" readonly></textarea>
            <button id="copyPixBtn" class="btn-copy">Copiar Código</button>
        </div>
        <p id="paymentStatusMsg" style="display: none;"></p>
      </div>
    </main>
  </div>

  <div id="messageModal" class="modal-overlay" style="display: none;">
     <div class="modal-content">
      <span class="modal-close-btn" id="modalCloseBtn">&times;</span>
      <h2 id="modalTitle">Mensagem Dedicada</h2>
      <p id="modalQuestion">Deseja adicionar uma mensagem dedicada por + R$ 1,00?</p>
      <div id="modalInitialButtons">
        <button id="modalBtnYes" class="btn-modal btn-modal-yes">Sim (+ R$ 1,00)</button>
        <button id="modalBtnNo" class="btn-modal btn-modal-no">Não, Apenas Pagar</button>
      </div>
      <div id="modalMessageInputArea" style="display: none;">
        <textarea id="modalMessageText" placeholder="Digite sua mensagem aqui (máx. 250 caracteres)..." maxlength="250"></textarea>
        <button id="modalBtnConfirm" class="btn-modal btn-modal-confirm">Confirmar e Pagar</button>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
  <script src="js/main.js"></script>
</body>
</html>
